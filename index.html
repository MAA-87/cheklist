<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>ATH CHECKLIST</title>
</head>

<body>

    <div id="app" class="container border">
        <div class="bg-primary text-white text-center rounded">
            <h1>{{ title }}</h1>
        </div>
        <div>
            <input type="text" class="w-100 rounded" placeholder="новая задача"            
            v-model="inputValue"
            v-on:keypress.enter="addNewNote"
            @keyup.esc="this.inputValue=''"
            >
        </div>
        <button class="btn btn-outline-primary mt-3 mb-5" @click="addNewNote">Добавить</button>

        <div v-if="notes.length!==0">
            <div class="card border-primary mb-2 d-inline-flex m-1" style="width: 45%;" v-for="(note, index) in notes">
                <div class="card-header"> № {{ index+1 }}</div>
                <div class="card-body text-primary">
                    <p class="card-text">{{ note }}</p>
                </div>
                <button class="btn btn-danger" @click="removeNote(index)">Удалить</button>
            </div>
            <p :class="notes.length>5 ? 'text-danger h4' : 'text-primary'">Общее количество задач: {{ notes.length }}</p>
        </div>
        <div v-else>
            <p>
                Все поставленные задачи выполнены!
            </p>
        </div>

    </div>

    <script src="https://unpkg.com/vue@next"></script>
    <script>
        // Наше приложение
        Vue.createApp({
            data() {
                return {
                    title: 'Чеклист пусконаладчика',
                    inputValue: '',
                    notes: ['Давление подпитки', 'Время подпитки', 'Авария подпитки','ОГК - авто', 'ОГК - сработка от ГА','MIN MAX газа','Обесточивание ОГК','СХ КО','Авария КО','Переключение КО','Авария Котлов','СХ Рец. ГВС','Авария Рец. ГВС','СХ Загр.ГВС','Авария  Загр.ГВС','Отключение Питания - Воссстановление','Проверка диспетчеризации']
                }
            },
            methods: {
                addNewNote() {
                    if (this.inputValue != '') {
                        this.notes.push(this.inputValue);
                        this.inputValue = '';
                    }
                },
                removeNote(index) {
                    this.notes.splice(index, 1);
                }
            }

        }).mount('#app');
    </script>
</body>

</html>
